{% extends 'students/base.html' %}
{% block title %}
    {% if form.instance.pk %}Redaktirlemek{% else %}Goşmak{% endif %} talyby
{% endblock %}
{% block content %}
    <div class="d-flex justify-content-start mb-3">
        <a href="javascript:history.back()" class="btn btn-secondary">
            <i class="bi bi-arrow-left"></i> Yza
        </a>
    </div>
    <div class="container mt-4">
        <form method="post" enctype="multipart/form-data" class="col-md-8">
            {% csrf_token %}
            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="{{ form.last_name.id_for_label }}" class="form-label">{{ form.last_name.label }}</label>
                        <input type="text" name="{{ form.last_name.name }}" id="{{ form.last_name.id_for_label }}"
                               value="{{ form.last_name.value|default:'' }}" class="form-control"
                               {% if form.last_name.field.required %}required{% endif %}>
                        {% if form.last_name.errors %}
                            <div class="text-danger">{{ form.last_name.errors }}</div>
                        {% endif %}
                    </div>
                    <div class="mb-3">
                        <label for="{{ form.first_name.id_for_label }}" class="form-label">{{ form.first_name.label }}</label>
                        <input type="text" name="{{ form.first_name.name }}" id="{{ form.first_name.id_for_label }}"
                               value="{{ form.first_name.value|default:'' }}" class="form-control"
                               {% if form.first_name.field.required %}required{% endif %}>
                        {% if form.first_name.errors %}
                            <div class="text-danger">{{ form.first_name.errors }}</div>
                        {% endif %}
                    </div>
                    <div class="mb-3">
                        <label for="{{ form.middle_name.id_for_label }}" class="form-label">{{ form.middle_name.label }}</label>
                        <input type="text" name="{{ form.middle_name.name }}" id="{{ form.middle_name.id_for_label }}"
                               value="{{ form.middle_name.value|default:'' }}" class="form-control">
                        {% if form.middle_name.errors %}
                            <div class="text-danger">{{ form.middle_name.errors }}</div>
                        {% endif %}
                    </div>
                    <div class="mb-3">
                        <label for="{{ form.birth_date.id_for_label }}" class="form-label">{{ form.birth_date.label }}</label>
                        <input type="date" name="{{ form.birth_date.name }}" id="{{ form.birth_date.id_for_label }}"
                               value="{{ form.birth_date.value|default:'' }}" class="form-control"
                               {% if form.birth_date.field.required %}required{% endif %}>
                        {% if form.birth_date.errors %}
                            <div class="text-danger">{{ form.birth_date.errors }}</div>
                        {% endif %}
                    </div>
                    <div class="mb-3">
                        <label for="{{ form.birth_place.id_for_label }}" class="form-label">{{ form.birth_place.label }}</label>
                        <input type="text" name="{{ form.birth_place.name }}" id="{{ form.birth_place.id_for_label }}"
                               value="{{ form.birth_place.value|default:'' }}" class="form-control">
                        {% if form.birth_place.errors %}
                            <div class="text-danger">{{ form.birth_place.errors }}</div>
                        {% endif %}
                    </div>
                    <div class="mb-3">
                        <label for="{{ form.course.id_for_label }}" class="form-label">{{ form.course.label }}</label>
                        <select name="{{ form.course.name }}" id="{{ form.course.id_for_label }}"
                                class="form-control" {% if form.course.field.required %}required{% endif %}>
                            {% for value, label in form.course.field.choices %}
                                <option value="{{ value }}" {% if form.course.value == value %}selected{% endif %}>{{ label }}</option>
                            {% endfor %}
                        </select>
                        {% if form.course.errors %}
                            <div class="text-danger">{{ form.course.errors }}</div>
                        {% endif %}
                    </div>
                    <div class="mb-3">
                        <label for="{{ form.faculty.id_for_label }}" class="form-label">{{ form.faculty.label }}</label>
                        <select name="{{ form.faculty.name }}" id="{{ form.faculty.id_for_label }}"
                                class="form-control" {% if form.faculty.field.required %}required{% endif %}>
                            {% for value, label in form.faculty.field.choices %}
                                <option value="{{ value }}" {% if form.faculty.value == value %}selected{% endif %}>{{ label }}</option>
                            {% endfor %}
                        </select>
                        {% if form.faculty.errors %}
                            <div class="text-danger">{{ form.faculty.errors }}</div>
                        {% endif %}
                    </div>
                    <div class="mb-3">
                        <label for="{{ form.student_id.id_for_label }}" class="form-label">{{ form.student_id.label }}</label>
                        <input type="text" name="{{ form.student_id.name }}" id="{{ form.student_id.id_for_label }}"
                               value="{{ form.student_id.value|default:'' }}" class="form-control"
                               {% if form.student_id.field.required %}required{% endif %}>
                        {% if form.student_id.errors %}
                            <div class="text-danger">{{ form.student_id.errors }}</div>
                        {% endif %}
                    </div>                    
                </div>
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="{{ form.photo.id_for_label }}" class="form-label">{{ form.photo.label }}</label>
                        <input type="file" name="{{ form.photo.name }}" id="{{ form.photo.id_for_label }}"
                               class="form-control">
                        {% if form.photo.errors %}
                            <div class="text-danger">{{ form.photo.errors }}</div>
                        {% endif %}
                    </div>
                    <div class="mb-3">
                        <label for="{{ form.admission_year.id_for_label }}" class="form-label">{{ form.admission_year.label }}</label>
                        <input type="number" name="{{ form.admission_year.name }}" id="{{ form.admission_year.id_for_label }}"
                               value="{{ form.admission_year.value|default:'' }}" class="form-control">
                        {% if form.admission_year.errors %}
                            <div class="text-danger">{{ form.admission_year.errors }}</div>
                        {% endif %}
                    </div>
                    <div class="mb-3">
                        <label for="{{ form.phone.id_for_label }}" class="form-label">{{ form.phone.label }}</label>
                        <input type="text" name="{{ form.phone.name }}" id="{{ form.phone.id_for_label }}"
                               value="{{ form.phone.value|default:'' }}" class="form-control">
                        {% if form.phone.errors %}
                            <div class="text-danger">{{ form.phone.errors }}</div>
                        {% endif %}
                    </div>
                    <div class="mb-3">
                        <label for="{{ form.address.id_for_label }}" class="form-label">{{ form.address.label }}</label>
                        <textarea name="{{ form.address.name }}" id="{{ form.address.id_for_label }}"
                                  class="form-control" rows="3">{{ form.address.value|default:'' }}</textarea>
                        {% if form.address.errors %}
                            <div class="text-danger">{{ form.address.errors }}</div>
                        {% endif %}
                    </div>
                    <div class="mb-3">
                        <label for="{{ form.characteristics.id_for_label }}" class="form-label">{{ form.characteristics.label }}</label>
                        <textarea name="{{ form.characteristics.name }}" id="{{ form.characteristics.id_for_label }}"
                                  class="form-control" rows="5">{{ form.characteristics.value|default:'' }}</textarea>
                        {% if form.characteristics.errors %}
                            <div class="text-danger">{{ form.characteristics.errors }}</div>
                        {% endif %}
                    </div>
                    <div class="mb-3">
                        <label for="{{ form.notes.id_for_label }}" class="form-label">{{ form.notes.label }}</label>
                        <textarea name="{{ form.notes.name }}" id="{{ form.notes.id_for_label }}"
                                  class="form-control" rows="3">{{ form.notes.value|default:'' }}</textarea>
                        {% if form.notes.errors %}
                            <div class="text-danger">{{ form.notes.errors }}</div>
                        {% endif %}
                    </div>
                </div>
            </div>
            <div class="d-flex gap-2">
                <button type="submit" class="btn btn-success">Ýatda saklamak</button>
                <a href="{% url 'student_list' %}" class="btn btn-secondary">Tablisa geçmek</a>
            </div>
        </form>
    </div>
{% endblock %}